<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Document</title>
    <style>
    *{
    margin: 0;
    padding:0;
    list-style: none;
}
#box{
    width:300px;
    height:200px;
    border: 1px solid #000;
    display: inline-block;
    overflow: hidden;
}
ul{
    display: inline-block
}
ul li{
    width:5px;
    height: 5px;
    border:1px solid #000;
    float: left;
    margin: 5px;
}
li.active{
    background: yellow
}
    
    
    </style>
</head>
<body>
    <textarea id="txt" cols="30" rows="10">你娃娃复核和无hi奥委会该换个哈哈比艾哈hi红白黑格尔合格后</textarea>
    <button id="btn">点击</button>
    <span id="n">0/30</span>
    <ul>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>       
    </ul>
    <div id="box"></div>
<script>
    let txtV = txt.value;
    let len = txtV.length;
    let lis = document.querySelectorAll('li');
    let timer = null;
    let num = 0;
    n.innerHTML = '0/' + len;

    btn.onclick = function(){
        len = txt.value.length;
        timer = setInterval(function(){
            let v = txt.value;
            txt.value = v.substring(1);
            console.log(txt.value)
            box.innerHTML += v[0];
            num ++;
            for(let i=0;i<lis.length;i++){
                lis[i].className = '';
            }
            lis[num%lis.length].className = 'active';
            n.innerHTML = num + '/' + len;
            if(num>=len){
                clearInterval(timer);
                num = 0;

            }
        },50)
    }

</script>
</body>
</html>